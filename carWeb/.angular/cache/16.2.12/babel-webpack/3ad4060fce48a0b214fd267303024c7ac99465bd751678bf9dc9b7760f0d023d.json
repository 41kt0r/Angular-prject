{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/services/posts.service\";\nimport * as i2 from \"src/app/core/services/auth.service\";\nimport * as i3 from \"@angular/platform-browser\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction DetailsComponent_div_0_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 12)(2, \"button\", 13);\n    i0.ɵɵtext(3, \"Like\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nconst _c0 = function (a2) {\n  return [\"/cars\", \"edit\", a2];\n};\nfunction DetailsComponent_div_0_ng_container_40_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 14)(2, \"button\", 15);\n    i0.ɵɵtext(3, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_div_0_ng_container_40_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.removePost(ctx_r3.car._id));\n    });\n    i0.ɵɵtext(5, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(1, _c0, ctx_r2.car._id));\n  }\n}\nfunction DetailsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"main\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"div\", 5);\n    i0.ɵɵelement(5, \"img\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 7)(7, \"p\");\n    i0.ɵɵtext(8, \"Likes:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"P\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 8);\n    i0.ɵɵtemplate(12, DetailsComponent_div_0_ng_container_12_Template, 4, 0, \"ng-container\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 10)(14, \"div\", 11)(15, \"div\")(16, \"h5\");\n    i0.ɵɵtext(17, \"BRAND\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\")(21, \"h5\");\n    i0.ɵɵtext(22, \"MODEL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\")(26, \"h5\");\n    i0.ɵɵtext(27, \"YEAR\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"p\");\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\")(31, \"h5\");\n    i0.ɵɵtext(32, \"DESCRIPTION\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"p\");\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\")(36, \"h5\");\n    i0.ɵɵtext(37, \"AUTHOR\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"p\");\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(40, DetailsComponent_div_0_ng_container_40_Template, 6, 3, \"ng-container\", 9);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.car.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.car.likes);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isLogged);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.car.brand);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.car.model);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.car.year);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.car.description);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.car.author);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isOwner);\n  }\n}\nexport class DetailsComponent {\n  constructor(PostsService, authService, titleService, router, route) {\n    this.PostsService = PostsService;\n    this.authService = authService;\n    this.titleService = titleService;\n    this.router = router;\n    this.route = route;\n  }\n  ngOnInit() {\n    this.titleService.setTitle('Details');\n    this.isLogged = this.authService.isLogged;\n    const carId = this.route.snapshot.params['carId'];\n    this.userId = this.authService.getUserData()?._id;\n    this.likes$ = this.PostsService.postTotalLikes(carId);\n    this.canLike$ = this.PostsService.canLike(carId, this.userId);\n    this.subscribe$ = this.PostsService.getPostById(carId).subscribe({\n      next: carInfo => {\n        this.car = carInfo;\n        this.titleService.setTitle(this.car.brand);\n        this.isOwner = carInfo._ownerId == this.userId;\n      },\n      error: error => this.errorMessage = error.error.message\n    });\n  }\n  removePost(postId) {\n    const isConfirmed = window.confirm('Are you sure you want to delete this post?');\n    if (isConfirmed) {\n      this.subscribe$ = this.PostsService.deletePostById(postId).subscribe({\n        error: error => this.errorMessage = error.error.message,\n        complete: () => this.router.navigate(['catalog'])\n      });\n    }\n  }\n  episodeLike(postId) {\n    this.subscribe$ = this.PostsService.likePostById(postId).subscribe({\n      error: error => {\n        if (error.message.includes('Unknown Error')) {\n          this.errorMessage = 'Server not connected!';\n        } else {\n          this.errorMessage = error.error.message;\n        }\n      },\n      complete: () => {\n        this.canLike$ = this.PostsService.canLike(postId, this.userId);\n        this.likes$ = this.PostsService.postTotalLikes(postId);\n        this.router.navigate(['/catalog', 'details', postId]);\n      }\n    });\n  }\n  ngOnDestroy() {\n    if (this.subscribe$ != undefined) {\n      this.subscribe$.unsubscribe();\n    }\n  }\n  static #_ = this.ɵfac = function DetailsComponent_Factory(t) {\n    return new (t || DetailsComponent)(i0.ɵɵdirectiveInject(i1.PostsService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Title), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetailsComponent,\n    selectors: [[\"app-details\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"detailsWrapper\", 4, \"ngIf\"], [1, \"detailsWrapper\"], [1, \"details-main\"], [1, \"cardInfo\"], [1, \"imageAndButtons\"], [1, \"details__image\"], [\"alt\", \"\", 1, \"current__img\", 3, \"src\"], [1, \"card__likes\"], [1, \"details__button\"], [4, \"ngIf\"], [1, \"details__info\"], [1, \"about__card\"], [1, \"guest__buttons\"], [1, \"detBtn\"], [1, \"owner__buttons\"], [1, \"detBtn\", 3, \"routerLink\"], [\"href\", \"javascript:void(0)\", 1, \"detBtn\", 3, \"click\"]],\n    template: function DetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, DetailsComponent_div_0_Template, 41, 9, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.car);\n      }\n    },\n    dependencies: [i5.NgIf, i4.RouterLink],\n    styles: [\".detailsWrapper[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    min-height: 100%;\\n}\\n\\n.details-main[_ngcontent-%COMP%] {\\n    color: #fff;\\n    background: #01FFF9;\\n    background: conic-gradient(from 315deg, #01FFF9, #010101);\\n    padding: 2em;\\n    flex-grow: 1;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    gap: 50px;\\n    \\n\\n}\\n\\n\\n.cardInfo[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    gap: 2em;\\n    margin: 40px auto;\\n    height: 70vh;\\n    background-color: transparent;\\n    border: 2px solid rgba(255, 255, 255, .2);\\n    -webkit-backdrop-filter: blur(20px);\\n            backdrop-filter: blur(20px);\\n    box-shadow: 0 0 10px rgba(0, 0, 0, .2);\\n    color: #fff;\\n    border-radius: 10px;\\n    padding: 30px 40px;\\n    width: 900px;\\n}\\n\\n.details__image[_ngcontent-%COMP%] {\\n    width: 450px;\\n    margin-bottom: 2em;\\n    \\n\\n}\\n\\n.details__image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{\\n    width: 100%;\\n}\\n\\n.current__img[_ngcontent-%COMP%] {\\n    border-radius: 10px;\\n}\\n\\n.details__info[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-between;\\n    border-radius: 10px;\\n    padding: 40px;\\n    \\n\\n    width: 350px;\\n    background: #3b3b3ba1;\\n}\\n\\n.card__likes[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    gap: 1em;\\n    margin-bottom: 2em;\\n}\\n\\n.details__button[_ngcontent-%COMP%], .owner__buttons[_ngcontent-%COMP%] {\\n    display: flex;\\n    gap: 1em;\\n    justify-content: center;\\n}\\n\\n.guest__buttons[_ngcontent-%COMP%] {\\n    align-self: center;\\n    \\n\\n}\\n\\n.detBtn[_ngcontent-%COMP%] {\\n    padding: 8px 25px;\\n    border-radius: 100px;\\n    background-color: #01e5df;\\n    border: 0px solid #01e5df;\\n}\\n\\n.detBtn[_ngcontent-%COMP%]:hover {\\n    background-color: #000;\\n    color: #01e5df;\\n}\\n\\n.imageAndButtons[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n}\\n\\n.about__card[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 1em;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvcG9zdHMvZGV0YWlscy9kZXRhaWxzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxtQkFBbUI7SUFDbkIseURBQXlEO0lBQ3pELFlBQVk7SUFDWixZQUFZO0lBQ1osYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qix1QkFBdUI7SUFDdkIsU0FBUztJQUNULHVCQUF1QjtBQUMzQjs7O0FBR0E7SUFDSSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLFFBQVE7SUFDUixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLDZCQUE2QjtJQUM3Qix5Q0FBeUM7SUFDekMsbUNBQTJCO1lBQTNCLDJCQUEyQjtJQUMzQixzQ0FBc0M7SUFDdEMsV0FBVztJQUNYLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsb0JBQW9CO0FBQ3hCOztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qiw4QkFBOEI7SUFDOUIsbUJBQW1CO0lBQ25CLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsUUFBUTtJQUNSLGtCQUFrQjtBQUN0Qjs7QUFFQTs7SUFFSSxhQUFhO0lBQ2IsUUFBUTtJQUNSLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsb0JBQW9CO0lBQ3BCLHlCQUF5QjtJQUN6Qix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsdUJBQXVCO0FBQzNCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixRQUFRO0FBQ1oiLCJzb3VyY2VzQ29udGVudCI6WyIuZGV0YWlsc1dyYXBwZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBtaW4taGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4uZGV0YWlscy1tYWluIHtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgYmFja2dyb3VuZDogIzAxRkZGOTtcclxuICAgIGJhY2tncm91bmQ6IGNvbmljLWdyYWRpZW50KGZyb20gMzE1ZGVnLCAjMDFGRkY5LCAjMDEwMTAxKTtcclxuICAgIHBhZGRpbmc6IDJlbTtcclxuICAgIGZsZXgtZ3JvdzogMTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBnYXA6IDUwcHg7XHJcbiAgICAvKiBtaW4taGVpZ2h0OiAxMDB2aDsgKi9cclxufVxyXG5cclxuXHJcbi5jYXJkSW5mbyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBnYXA6IDJlbTtcclxuICAgIG1hcmdpbjogNDBweCBhdXRvO1xyXG4gICAgaGVpZ2h0OiA3MHZoO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4yKTtcclxuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigyMHB4KTtcclxuICAgIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgLjIpO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgcGFkZGluZzogMzBweCA0MHB4O1xyXG4gICAgd2lkdGg6IDkwMHB4O1xyXG59XHJcblxyXG4uZGV0YWlsc19faW1hZ2Uge1xyXG4gICAgd2lkdGg6IDQ1MHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMmVtO1xyXG4gICAgLyogbWFyZ2luOiAwIGF1dG87ICovXHJcbn1cclxuXHJcbi5kZXRhaWxzX19pbWFnZSBpbWd7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG5cclxuLmN1cnJlbnRfX2ltZyB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG59XHJcblxyXG4uZGV0YWlsc19faW5mbyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBwYWRkaW5nOiA0MHB4O1xyXG4gICAgLyogaGVpZ2h0OiAzOHZoOyAqL1xyXG4gICAgd2lkdGg6IDM1MHB4O1xyXG4gICAgYmFja2dyb3VuZDogIzNiM2IzYmExO1xyXG59XHJcblxyXG4uY2FyZF9fbGlrZXMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgZ2FwOiAxZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyZW07XHJcbn1cclxuXHJcbi5kZXRhaWxzX19idXR0b24sXHJcbi5vd25lcl9fYnV0dG9ucyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZ2FwOiAxZW07XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLmd1ZXN0X19idXR0b25zIHtcclxuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcclxuICAgIC8qIG1hcmdpbi10b3A6IDIwcHg7ICovXHJcbn1cclxuXHJcbi5kZXRCdG4ge1xyXG4gICAgcGFkZGluZzogOHB4IDI1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMDBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMWU1ZGY7XHJcbiAgICBib3JkZXI6IDBweCBzb2xpZCAjMDFlNWRmO1xyXG59XHJcblxyXG4uZGV0QnRuOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XHJcbiAgICBjb2xvcjogIzAxZTVkZjtcclxufVxyXG5cclxuLmltYWdlQW5kQnV0dG9ucyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4uYWJvdXRfX2NhcmQge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDFlbTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵlistener","DetailsComponent_div_0_ng_container_40_Template_button_click_4_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","removePost","car","_id","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0","ctx_r2","ɵɵelement","ɵɵtemplate","DetailsComponent_div_0_ng_container_12_Template","DetailsComponent_div_0_ng_container_40_Template","ɵɵpropertyInterpolate","ctx_r0","imageUrl","ɵɵsanitizeUrl","ɵɵtextInterpolate","likes","isLogged","brand","model","year","description","author","isOwner","DetailsComponent","constructor","PostsService","authService","titleService","router","route","ngOnInit","setTitle","carId","snapshot","params","userId","getUserData","likes$","postTotalLikes","canLike$","canLike","subscribe$","getPostById","subscribe","next","carInfo","_ownerId","error","errorMessage","message","postId","isConfirmed","window","confirm","deletePostById","complete","navigate","episodeLike","likePostById","includes","ngOnDestroy","undefined","unsubscribe","_","ɵɵdirectiveInject","i1","i2","AuthService","i3","Title","i4","Router","ActivatedRoute","_2","selectors","decls","vars","consts","template","DetailsComponent_Template","rf","ctx","DetailsComponent_div_0_Template"],"sources":["D:\\SoftUni\\Car-Web Angular project\\car-web\\src\\app\\features\\posts\\details\\details.component.ts","D:\\SoftUni\\Car-Web Angular project\\car-web\\src\\app\\features\\posts\\details\\details.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Observable, Subscription } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { PostInterface } from 'src/app/core/interfaces/Post';\nimport { PostsService } from 'src/app/core/services/posts.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { Title } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.component.html',\n  styleUrls: ['./details.component.css']\n})\n\nexport class DetailsComponent implements OnInit, OnDestroy {\n  car!: PostInterface;\n  subscribe$!: Subscription;\n  errorMessage!: string;\n\n  isOwner!: boolean;\n  isLogged!: boolean;\n  userId!: string;\n  canLike$!: Observable<number>;\n  likes$!: Observable<number>;\n\n  constructor(\n    private PostsService: PostsService,\n    private authService: AuthService,\n    private titleService: Title,\n    private router: Router,\n    private route: ActivatedRoute,) { }\n\n  ngOnInit(): void {\n    this.titleService.setTitle('Details');\n    this.isLogged = this.authService.isLogged;\n\n    const carId: string = this.route.snapshot.params['carId'];\n    this.userId = this.authService.getUserData()?._id as string;\n    this.likes$ = this.PostsService.postTotalLikes(carId);\n    this.canLike$ = this.PostsService.canLike(carId, this.userId);\n\n    this.subscribe$ = this.PostsService.getPostById(carId).subscribe({\n      next: (carInfo) => {\n        this.car = carInfo;\n        this.titleService.setTitle(this.car.brand);\n        this.isOwner = carInfo._ownerId == this.userId;\n      },\n      error: (error) => this.errorMessage = error.error.message\n    });\n  }\n\n  removePost(postId: string) {\n\n    const isConfirmed = window.confirm('Are you sure you want to delete this post?');\n\n    if (isConfirmed) {\n      this.subscribe$ = this.PostsService.deletePostById(postId).subscribe({\n        error: (error) => this.errorMessage = error.error.message,\n        complete: () => this.router.navigate(['catalog'])\n      });\n    }\n\n  }\n\n  episodeLike(postId: string) {\n    this.subscribe$ = this.PostsService.likePostById(postId).subscribe({\n      error: (error) => {\n        if (error.message.includes('Unknown Error')) {\n          this.errorMessage = 'Server not connected!'\n        } else {\n          this.errorMessage = error.error.message;\n        }\n      },\n      complete: () => {\n        this.canLike$ = this.PostsService.canLike(postId, this.userId);\n        this.likes$ = this.PostsService.postTotalLikes(postId);\n        this.router.navigate(['/catalog', 'details', postId]);\n      },\n    });\n    \n  }\n\n  ngOnDestroy(): void {\n    if (this.subscribe$ != undefined) {\n      this.subscribe$.unsubscribe();\n    }\n  }\n}","<div class=\"detailsWrapper\" *ngIf=\"car\">\n    <main class=\"details-main\">\n        <div class=\"cardInfo\">\n            <div class=\"imageAndButtons\">\n                <div class=\"details__image\">\n                    <img class=\"current__img\" src=\"{{ car.imageUrl}}\" alt=\"\">\n                </div>\n                <div class=\"card__likes\">\n                    <p>Likes:</p>\n                    <P>{{ car.likes }}</P>\n                </div>\n                <div class=\"details__button\">\n                    <ng-container *ngIf=\" isLogged\">\n                        <div class=\"guest__buttons\">\n                            <button class=\"detBtn\">Like</button>\n                            <!-- <button class=\"detBtn\">Coment</button> -->\n                        </div>\n                    </ng-container>\n                   \n                </div>\n            </div>\n            <div class=\"details__info\">\n                <div class=\"about__card\">\n                    <div>\n                        <h5>BRAND</h5>\n                        <p>{{ car.brand }}</p>\n                    </div>\n\n                    <div>\n                        <h5>MODEL</h5>\n                        <p>{{ car.model }}</p>\n                    </div>\n\n                    <div>\n                        <h5>YEAR</h5>\n                        <p>{{ car.year }}</p>\n                    </div>\n\n                    <div>\n                        <h5>DESCRIPTION</h5>\n                        <p>{{ car.description }}</p>\n                    </div>\n\n                    <div>\n                        <h5>AUTHOR</h5>\n                        <p>{{ car.author }}</p>\n                    </div>\n\n                    \n                </div>\n                \n                <ng-container *ngIf=\"isOwner\">\n                    <div class=\"owner__buttons\">\n                        <button class=\"detBtn\" [routerLink]=\"['/cars', 'edit', car._id]\">Edit</button>\n                        <button class=\"detBtn\" href=\"javascript:void(0)\" (click)=\"removePost(car._id)\">Delete</button>\n                    </div>\n                </ng-container>\n            </div>\n        </div>\n    </main>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}